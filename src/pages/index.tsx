import { Inter } from 'next/font/google'


const inter = Inter({ subsets: ['latin'] })

import { News } from "@metronews/types";
import fetcherNews from "@metronews/utils/fetcherNews";
import NewsHome from '@metronews/components/home/newsHome';
import { Container } from 'react-bootstrap';
import { useContext, useEffect } from 'react';
import { NewsData } from '@metronews/store/newsContext';

type HomeProps ={
    jsonNews: News[]; 
};

export default function Home({jsonNews}:HomeProps){

  const { newsData, setNewsData } = useContext(NewsData);

  useEffect(() => {
    setNewsData(jsonNews.articles);
    })

  if ('errors' in jsonNews) {
    return <Container className={`mt-5 mb-5 text-center`}><h3>Agotada la cuota de consulta de noticias por hoy. te esperamos mañana!</h3></Container>
  }else{
    return <NewsHome data={jsonNews.articles}/>
  }    
}

export async function getServerSideProps() {
    try {
      // const jsonNews = await fetcherNews();
      const jsonNews = {"totalArticles":37365,"articles":[{"title":"Binance no tendrá acceso a los fondos de su filial en EE. UU., tras acuerdo con la SEC","description":"El acuerdo entre las partes también plantea la creación de nuevos monederos a los que empleados de globales de Binance no tengan acceso.","content":"Hechos clave: La medida busca evitar que los fondos puedan ser sacados por Binance de EE. UU.\nBinance.US. deberá entregar a la jueza información sobre sus gastos comerciales.\nBinance, el exchange de bitcoin (BTC) y criptomonedas con mayor volumen de ... [3059 chars]","url":"https://www.criptonoticias.com/judicial/binance-no-tendra-acceso-fondos-filial-eeuu-tras-acuerdo-sec/","image":"https://www.criptonoticias.com/wp-content/uploads/2023/03/sec-binance-estados-unidos.jpg","publishedAt":"2023-06-17T17:03:53Z","source":{"name":"CriptoNoticias","url":"https://www.criptonoticias.com"}},{"title":"Odontología láser: Innovadora tecnología sigue creciendo en el Perú","description":"Esta herramienta es usada para cirugías en encías, periodoncias, endodoncias, tratamiento de la sensibilidad térmica y blanqueamiento dental.","content":"El láser es una fuente de energía que trae muchos beneficios al ser aplicada en estructuras orgánicas, como a nuestros dientes y encías, sin causar ningún daño a nuestros tejidos.\nEsta tecnología ha ingresado a los diferentes campos de la odontología... [1450 chars]","url":"https://peru21.pe/vida/salud/odontologia-laser-innovadora-tecnologia-sigue-creciendo-en-el-peru-dientes-y-encias-jose-perez-yance-clinica-america-dent-operacion-sin-dolor-erbio-cromo-noticia/","image":"https://peru21.pe/resizer/Op79TranL7BP0D35Cx06OGPxM7M=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/SCZJGZCNUNGHPHLTJO64GELWSM.jpg","publishedAt":"2023-06-17T16:12:37Z","source":{"name":"Diario Perú21","url":"https://peru21.pe"}},{"title":"Ésta es la lista completa de los 48 teléfonos Xiaomi que (probablemente) no serán compatibles con MIUI 15","description":"Tal y como ocurre cada año con cada lanzamiento de una nueva versión de MIUI, Xiaomi ya está preparando la presentación oficial de MIUI 15 para noviembre de...","content":"Tal y como ocurre cada año con cada lanzamiento de una nueva versión de MIUI, Xiaomi ya está preparando la presentación oficial de MIUI 15 para noviembre de 2023, así que ya comienzan a surgir rumores acerca de los dispositivos que serán compatibles ... [2353 chars]","url":"https://www.mundoxiaomi.com/noticias/esta-lista-completa-48-telefonos-xiaomi-que-probablemente-no-seran-compatibles-miui-15","image":"https://i.blogs.es/2f6529/miui-15-1/840_560.jpeg","publishedAt":"2023-06-17T15:00:47Z","source":{"name":"Mundo Xiaomi","url":"https://www.mundoxiaomi.com"}},{"title":"Tres roban ovinos en distrito alejado de Huancayo","description":"Cae implicado en robo de ovejas en Huancayo","content":"La delincuencia no escarmienta ni por lo extremo que son los ajusticiamientos populares. Fernando Joaquín Gómez (23) y otros dos maleantes cargaron dos ovejas de Bertha Yañac Pineda (46), que estaban en la puerta de su casa en la Av. Los Ángeles en e... [838 chars]","url":"https://diariocorreo.pe/edicion/huancayo/tres-roban-ovinos-en-distrito-alejado-de-huancayo-noticia/","image":"https://diariocorreo.pe/resizer/L-yzs3T09Y5HqJNZNWFd26vEvtI=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/GKRK3G23ZNEWZN5E6SZ4R2G6RA.jpg","publishedAt":"2023-06-17T13:11:00Z","source":{"name":"Diario Correo","url":"https://diariocorreo.pe"}},{"title":"El país del arranchón. Crónica de Fernando Vivas sobre la lucha contra los cacos","description":"La policía ha salido a las calles, en un gesto silencioso. Falta voluntad política en liderar la lucha contra el crimen y falta confianza ciudadana en ello.","content":"O tal vez, ha sufrido o sabe de un caso de extorsión; delito que gatilla un miedo devastador, porque te asalta en tu celular, en la intimidad en la que te sentías seguro, amenazando tu familia y propiedad. En un país de mayoría emprendedora y autoemp... [10440 chars]","url":"https://elcomercio.pe/politica/actualidad/el-pais-del-arranchon-cronica-de-fernando-vivas-sobre-la-lucha-contra-los-cacos-delincuencia-seguridad-ciudadana-pnp-mininter-vicente-romero-hector-loayza-noticia/","image":"https://elcomercio.pe/resizer/NH0MFfmXheuFcPDMFkcBG3bAdXw=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/6VGELLDNOVB7TJVUZD6GD2DK4M.jpg","publishedAt":"2023-06-17T12:10:26Z","source":{"name":"El Comercio Perú","url":"https://elcomercio.pe"}},{"title":"Esta startup tiene un solo empleado y acaba de venderse por 50 millones de euros","description":"A Wargraphs la etiqueta de \"startup\" quizás le quede grande. La de lucrativa no, al menos si tenemos en cuenta la suma que ha decidido pagar por ella MOBA,...","content":"A Wargraphs la etiqueta de \"startup\" quizás le quede grande. La de lucrativa no, al menos si tenemos en cuenta la suma que ha decidido pagar por ella MOBA, una empresa fundada en Suecia. Ambas se dedican al mismo sector: los juegos.\nLa operación la h... [3267 chars]","url":"https://www.xataka.com/empresas-y-economia/esta-startup-tiene-solo-empleado-acaba-venderse-50-millones-euros","image":"https://i.blogs.es/cf8b27/14768148650_dbcfc5e096_k/840_560.jpeg","publishedAt":"2023-06-17T11:30:33Z","source":{"name":"Xataka","url":"https://www.xataka.com"}},{"title":"Asbanc alista suite de seguridad para sistema financiero peruano","description":"Entidades invierten más en ciberseguridad que hace cinco años, sin embargo, no lo hacen a la velocidad adecuada, sostienen especialistas.","content":"“Tenemos una suite de seguridad que vamos a presentar en agosto, y abarca los componentes de identidad digital, soluciones de biometría, casos de prevención de fraudes y detección de patrones de comportamiento”, señaló a Gestión, Miguel Vargas, geren... [3682 chars]","url":"https://gestion.pe/tu-dinero/finanzas-personales/asbanc-alista-suite-de-seguridad-para-sistema-financiero-peruano-en-agosto-noticia/","image":"https://gestion.pe/resizer/Ojp5x-eveJIiToCLZ-M7W3zzXKQ=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/46ZWJCDSMVDOJO3MFM2ONMVHMA.jpg","publishedAt":"2023-06-17T10:55:00Z","source":{"name":"Diario Gestión","url":"https://gestion.pe"}},{"title":"Engie Perú tiene un portafolio de hasta ocho proyectos renovables","description":"Engie Perú detalla los avances de su cartera de 1.2 GW de proyectos renovables y otros planes para el mercado peruano. Conozca aquí toda la información.","content":"“Estamos sustituyendo progresivamente la energía convencional alta en Co2 por energía renovable no convencional, pero de modo seguro, soportado por nuestra infraestructura de generación a gas natural”, afirma. Con pocos meses en el cargo, Ben Maalla ... [12428 chars]","url":"https://gestion.pe/economia/empresas/engie-peru-tiene-un-portafolio-de-hasta-ocho-proyectos-renovables-noticia/","image":"https://gestion.pe/resizer/AI3POGOcVCDBKHai3peq26TlXRo=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/Y5KQC4AZYFHHRETCQU5SNFBIBY.jpeg","publishedAt":"2023-06-17T10:00:00Z","source":{"name":"Diario Gestión","url":"https://gestion.pe"}},{"title":"Cuota de mercado de vehículos eléctricos de Tesla se desplomará en 2026, según informe","description":"Los analistas estiman que para 2026, GM y Ford controlarán cada uno un 14 % del mercado de los VE en el país.","content":"La cuota de mercado en el segmento de vehículos eléctricos de Tesla en Estados Unidos caerá del 62 % en 2022 al 18 % en 2026, según los analistas del Banco de América.\nLa cadena de televisión CNBC señaló este jueves que un informe de los analistas de... [1744 chars]","url":"https://gestion.pe/economia/empresas/vehiculos-electricos-i-cuota-de-mercado-de-vehiculos-electricos-de-tesla-se-desplomara-en-2026-segun-informe-i-tesla-noticia/","image":"https://gestion.pe/resizer/y72PSGdLRKYLf0lb2Nw7lw0rt6g=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/E7KNIFZFCNEABHGTFAQJ5PJXMA.jpg","publishedAt":"2023-06-17T07:15:00Z","source":{"name":"Diario Gestión","url":"https://gestion.pe"}},{"title":"47 apps premium gratis por tiempo limitado (3ª semana de junio)","description":"47 aplicaciones y juegos de pago que podemos descargar de forma completamente gratuita durante los próximos 7 días en Google Play.","content":"¡Hola, amigos! Volvemos una vez más para nuestro repaso semanal de todas esas apps y juegos de pago que en estos momentos se pueden descargar de forma gratuita desde la Play Store por un breve periodo de tiempo.\nEntre las aplicaciones disponibles enc... [482 chars]","url":"https://elandroidefeliz.com/47-apps-premium-gratis-3a-semana-de-junio-2023/","image":"https://elandroidefeliz.com/wp-content/uploads/2022/07/Apps-premium-gratis-por-tiempo-limitado-3a-semana-del-mes.jpg","publishedAt":"2023-06-17T06:29:00Z","source":{"name":"El Androide Feliz","url":"https://elandroidefeliz.com"}}]}
   return{ props: { jsonNews } }
    } catch (error) {
      console.error(error);
    }
  }

